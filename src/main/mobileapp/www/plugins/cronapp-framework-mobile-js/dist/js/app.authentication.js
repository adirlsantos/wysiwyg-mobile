var app=function(){return angular.module("MyApp",["ionic","ui.router","ngResource","ngSanitize","custom.controllers","custom.services","datasourcejs","pascalprecht.translate","tmh.dynamicLocale","ui-notification","ngFileUpload","angularMoment"]).constant("LOCALES",{locales:{pt_br:"Portugues (Brasil)",en_us:"English"},preferredLocale:"pt_br"}).run(["$ionicPlatform",function(e){e.ready(function(){setTimeout(function(){navigator.splashscreen&&navigator.splashscreen.hide()},100),window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()})}]).config(["$httpProvider",function(e){var t=["$q","$rootScope",function(e,t){return{request:function(e){var t=JSON.parse(sessionStorage.getItem("_u"));return t&&t.token&&(e.headers["X-AUTH-TOKEN"]=t.token,window.uToken=t.token),e}}}];e.interceptors.push(t)}]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,t,n){n.navBar.alignTitle("center")}]).config(["$stateProvider","$urlRouterProvider","NotificationProvider",function(e,t,n){n.setOptions({delay:5e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),e.state("login",{url:"",controller:"LoginController",templateUrl:"views/login.view.html"}).state("main",{url:"/",controller:"LoginController",templateUrl:"views/login.view.html"}).state("publicRoot",{url:"/public/{name:.*}",controller:"PageController",templateUrl:function(e){return"views/public/"+e.name+".view.html"}}).state("public",{url:"/app/public",controller:"PublicController",templateUrl:"views/public/menu.view.html"}).state("public.home",{url:"/home",views:{menuContent:{controller:"PublicController",templateUrl:"views/public/home.view.html"}}}).state("public.pages",{url:"/{name:.*}",views:{menuContent:{controller:"PageController",templateUrl:function(e){return"views/public/"+e.name+".view.html"}}}}).state("app",{url:"/app",controller:"HomeController",templateUrl:"views/logged/menu.view.html"}).state("app.home",{url:"/home",views:{menuContent:{controller:"HomeController",templateUrl:"views/logged/home.view.html"}}}).state("app.pages",{url:"/{name:.*}",views:{menuContent:{controller:"PageController",templateUrl:function(e){return"views/"+e.name+".view.html"}}}}).state("404",{url:"/error/404",controller:"PageController",templateUrl:function(e){return"views/error/404.view.html"}}).state("403",{url:"/error/403",controller:"PageController",templateUrl:function(e){return"views/error/403.view.html"}}),t.otherwise("/error/404")}]).config(["$translateProvider","tmhDynamicLocaleProvider",function(e,t){e.useMissingTranslationHandlerLog(),e.useStaticFilesLoader({prefix:"i18n/locale_",suffix:".json"}),e.registerAvailableLanguageKeys(["pt_br","en_us"],{"en*":"en_us","pt*":"pt_br","*":"pt_br"});var n=(window.navigator.userLanguage||window.navigator.language||"pt_br").replace("-","_");e.use(n.toLowerCase()),e.useSanitizeValueStrategy("escaped"),t.localeLocationPattern("plugins/angular-i18n/angular-locale_{{locale}}.js")}]).directive("crnValue",["$parse",function(e){return{restrict:"A",require:"^ngModel",link:function(t,n,r,o){var i;i=r.value?r.value:e(r.crnValue)(t),n.attr("data-evaluated",JSON.stringify(i)),n.bind("click",function(e){t.$apply(function(){o.$setViewValue(i)}.bind(n))}),o&&(o.$formatters.push(function(e){var t=n.attr("data-evaluated");return e&&JSON.stringify(""+e)==t&&($(n)[0].children[0].checked=!0),null}),o.$parsers.push(function(e){return e||null}))}}}]).decorator("$xhrFactory",["$delegate","$injector",function(e,t){return function(n,r){var o=e(n,r),i=t.get("$http"),a=i.pendingRequests[i.pendingRequests.length-1];return angular.isFunction(a.onProgress)&&o.upload.addEventListener("progress",a.onProgress),o}}]).controller("PageController",["$scope","$stateParams","Notification","$location","$http","$rootScope","$translate","$ionicModal",function(e,t,n,r,o,i,a,l){app.registerEventsCronapi(e,a,l),i.http=o,e.Notification=n,e.params=t,e.$http=o;var s=r.search();for(var c in s)s.hasOwnProperty(c)&&(e.params[c]=s[c]);e.registerComponentScripts=function(){$(".carousel-indicators li").on("click",function(){var e="#"+$(this).parent().parent().parent().attr("id"),t=$(e+" .carousel-indicators li").index(this);$(e+" #carousel-example-generic").carousel(t)})},e.registerComponentScripts()}]).run(["$rootScope","$state",function(e,t){e.$on("$stateChangeError",function(){if(arguments.length>=6){var e=arguments[5];404!==e.status&&403!==e.status||t.go(e.status.toString())}else t.go("404")}),e.$on("$stateChangeSuccess",function(){setTimeout(function(){$($(".icon.ion-plus-round").parent()).off("click"),$($(".icon.ion-plus-round").parent()).on("click",function(){$("[required]").removeClass("input-validation-error"),$("input:invalid").removeClass("input-validation-error")}),$($(".icon.ion-checkmark").parent()).off("click"),$($(".icon.ion-checkmark").parent()).on("click",function(){$("[required].ng-invalid-required, [required].ng-invalid, [required].ng-empty").addClass("input-validation-error"),$("input:invalid").addClass("input-validation-error")}),$("input").off("keydown"),$("input").on("keydown",function(){$(this).removeClass("input-validation-error")})},300)})}])}(window);app.userEvents={},app.config={},app.config.datasourceApiVersion=2,app.config.defaultRoute="/app",app.bindScope=function(e,t){var n={};for(var r in t)"string"==typeof t[r]?n[r]=t[r]:"function"==typeof t[r]?n[r]=t[r].bind(e):n[r]=app.bindScope(e,t[r]);return n},app.registerEventsCronapi=function(e,t,n){for(var r in app.userEvents)e[r]=app.userEvents[r].bind(e);e.vars={};try{cronapi&&(e.cronapi=app.bindScope(e,cronapi),e.cronapi.$scope=e,e.cronapi.$scope.$ionicModal=n,e.safeApply=safeApply,t&&(e.cronapi.$translate=t))}catch(e){console.info("Not loaded cronapi functions"),console.info(e)}try{blockly&&(e.blockly=app.bindScope(e,blockly))}catch(e){console.info("Not loaded blockly functions"),console.info(e)}},window.safeApply=function(e){var t=this.$root.$$phase;"$apply"==t||"$digest"==t?e&&"function"==typeof e&&e():this.$apply(e)};